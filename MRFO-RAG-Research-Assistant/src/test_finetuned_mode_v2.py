"""
æœ€ç»ˆæ¼”ç¤º - å±•ç¤ºRAGç³»ç»Ÿçš„å®ç”¨ä»·å€¼
"""
from rag_with_finetuned_model import FinalRAGSystem
import os


def demo_scenarios():
    """
    æ¨¡æ‹ŸçœŸå®ä½¿ç”¨åœºæ™¯
    """

    print("=" * 70)
    print("ğŸ¯ MRFOç ”ç©¶åŠ©æ‰‹ - å®æˆ˜æ¼”ç¤º")
    print("=" * 70)

    # åˆå§‹åŒ–
    rag = FinalRAGSystem()

    # åŠ è½½çŸ¥è¯†åº“
    pdf = "åŸºäºå¤šç­–ç•¥æ”¹è¿›MRFOç®—æ³•çš„å®¶åº­èƒ½æºè°ƒåº¦ä¼˜åŒ–2025-11-10.pdf"
    if os.path.exists(pdf):
        rag.add_pdf(pdf)

    # ========== åœºæ™¯1: å¿«é€Ÿäº†è§£æ¦‚å¿µ ==========
    print("\n" + "=" * 70)
    print("åœºæ™¯1: å¯¼å¸ˆè®©ä½ å¿«é€Ÿäº†è§£MRFOç®—æ³•")
    print("=" * 70)

    questions_scenario1 = [
        "MRFOç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ?",
        "MRFOæœ‰å“ªäº›ä¸»è¦ä¼˜åŠ¿?",
        "DLM MRFOç›¸æ¯”äºMRFOåšäº†å“ªäº›æ”¹è¿›?"
    ]

    for q in questions_scenario1:
        print(f"\nâ“ {q}")
        result = rag.query(q, use_rag=True)  # ç”¨å¾®è°ƒæ¨¡å‹å¿«é€Ÿå›ç­”
        input("\næŒ‰Enterç»§ç»­...")

    # ========== åœºæ™¯2: å‡†å¤‡ç»„ä¼šæ±‡æŠ¥ ==========
    print("\n" + "=" * 70)
    print("åœºæ™¯2: å‡†å¤‡ç»„ä¼šæ±‡æŠ¥,éœ€è¦å‡†ç¡®æ•°æ®")
    print("=" * 70)

    questions_scenario2 = [
        "åœ¨å¤æ‚åœºæ™¯ä¸‹,DLM MRFOç›¸æ¯”äºMRFOé™ä½äº†å¤šå°‘æˆæœ¬?é™ä½äº†å¤šå°‘PAR?",
        "ç®€å•åœºæ™¯å’Œå¤æ‚åœºæ™¯åˆ†åˆ«æœ‰å¤šå°‘è®¾å¤‡?",
        "å®éªŒä¸­DLM MRFOçš„æ—¥æ€»æˆæœ¬åˆ†åˆ«æ˜¯å¤šå°‘?"
    ]

    for q in questions_scenario2:
        print(f"\nâ“ {q}")
        result = rag.query(q, use_rag=True)  # ç”¨RAGè·å–å‡†ç¡®æ•°æ®
        input("\næŒ‰Enterç»§ç»­...")

    # ========== åœºæ™¯3: å†™è®ºæ–‡éœ€è¦å¼•ç”¨ ==========
    print("\n" + "=" * 70)
    print("åœºæ™¯3: å†™è®ºæ–‡,éœ€è¦æ‰¾è®ºæ–‡ä¸­çš„å…·ä½“æè¿°")
    print("=" * 70)

    questions_scenario3 = [
        "è®ºæ–‡ä¸­å¦‚ä½•æè¿°DLM MRFOçš„åŠ¨æ€æƒé‡æœºåˆ¶çš„?",
        "é•¿æ—¶è®°å¿†æœºåˆ¶çš„å®ç°ç»†èŠ‚æ˜¯ä»€ä¹ˆ?",
        "å®éªŒéƒ¨åˆ†å¦‚ä½•è¯„ä»·DLM MRFOçš„æ”¶æ•›æ€§?"
    ]

    for q in questions_scenario3:
        print(f"\nâ“ {q}")
        result = rag.query(q, use_rag=True)  # ç”¨RAGæ£€ç´¢åŸæ–‡
        input("\næŒ‰Enterç»§ç»­...")

    # ========== åœºæ™¯4: ç­”è¾©å‡†å¤‡ ==========
    print("\n" + "=" * 70)
    print("åœºæ™¯4: ç­”è¾©æ—¶è€å¸ˆå¯èƒ½é—®çš„é—®é¢˜")
    print("=" * 70)

    questions_scenario4 = [
        "DLM MRFOä¸ºä»€ä¹ˆè¦å¼•å…¥ç¦»æ•£ä½ç½®æ›´æ–°ç­–ç•¥?",
        "DLM MRFOä¸­PARä¸“é¡¹ä¼˜åŒ–ç­–ç•¥çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ?",
        "è¿™ä¸ªç®—æ³•å¯ä»¥åº”ç”¨åˆ°å“ªäº›å…¶ä»–é¢†åŸŸ?"
    ]

    for q in questions_scenario4:
        print(f"\nâ“ {q}")
        # å…ˆç”¨å¾®è°ƒæ¨¡å‹ç†è§£,å†ç”¨RAGè¡¥å……ç»†èŠ‚
        print("\nã€ç†è§£å±‚é¢ã€‘")
        rag.query(q, use_rag=False)
        print("\nã€æ–‡æ¡£ç»†èŠ‚ã€‘")
        rag.query(q, use_rag=True)
        input("\næŒ‰Enterç»§ç»­...")

    print("\n" + "=" * 70)
    print("âœ… æ¼”ç¤ºå®Œæˆ!")
    print("=" * 70)
    print("\nğŸ’¡ ä½ çœ‹åˆ°äº†ä»€ä¹ˆ?")
    print("  âœ… å¾®è°ƒæ¨¡å‹: ç†è§£æ¦‚å¿µ,å¿«é€Ÿè§£ç­”")
    print("  âœ… RAGç³»ç»Ÿ: ç²¾ç¡®æ•°æ®,åŸæ–‡å¼•ç”¨")
    print("  âœ… ä¸¤è€…ç»“åˆ: å®Œç¾çš„ç ”ç©¶åŠ©æ‰‹!")


if __name__ == "__main__":
    demo_scenarios()
